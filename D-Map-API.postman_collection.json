{
	"info": {
		"_postman_id": "513236bd-f3cb-444b-8b17-dc4e7017b8ad",
		"name": "D-Map API",
		"description": "API collection for D-Map application",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "26943450"
	},
	"item": [
		{
			"name": "Auth",
			"item": [
				{
					"name": "Initiate Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"harsh.gohil@alembic.co.in\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/initiate-registration",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"initiate-registration"
							]
						}
					},
					"response": []
				},
				{
					"name": "Verify Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/verify-email?token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..dODGC40Kz1h4YmxO.zvaq_0tXPwsOBnqH_jGCJA3SvPpMr4TGTDxcY1pxDyxzBOwZCQE2z5Xt2HwzbjqoH7ug9eS_.UeCfUwYt9YXzTCAQ-379AA",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"verify-email"
							],
							"query": [
								{
									"key": "token",
									"value": "eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..dODGC40Kz1h4YmxO.zvaq_0tXPwsOBnqH_jGCJA3SvPpMr4TGTDxcY1pxDyxzBOwZCQE2z5Xt2HwzbjqoH7ug9eS_.UeCfUwYt9YXzTCAQ-379AA"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Logout user (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"your_refresh_token_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/refresh-token",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"refresh-token"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.collectionVariables.set(\"jwt_token\", pm.response.json().accessToken);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "// {\n//   \"identifier\": \"nikhil.nadkar@alembic.co.in\",\n//   \"password\": \"Harsh@1234\",\n//   \"loginType\": \"email\"\n// }\n\n// {\n//   \"identifier\": \"mohanish.padwal@alembic.co.in\",\n//   \"password\": \"Harsh@1234\",\n//   \"loginType\": \"email\"\n// }\n\n{\n  \"identifier\": \"harsh.gohil@alembic.co.in\",\n  \"password\": \"Harsh@1234\",\n  \"loginType\": \"email\"\n}\n\n// {\n//   \"identifier\": \"bhagwan.parab@alembic.co.in\",\n//   \"password\": \"Harsh@1234\",\n//   \"loginType\": \"email\"\n// }\n\n\n// {\n//   \"identifier\": \"vikramr.rai@alembic.co.in\",\n//   \"password\": \"Harsh@1234\",\n//   \"loginType\": \"email\"\n// }"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Complete Registration",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"harsh.gohil@alembic.co.in\",\n  \"name\": \"John Doe\",\n  \"password\": \"Harsh@1234\",\n  \"phone\": \"1234567890\",\n  \"department_id\": 1,\n  \"division_ids\": [1,2],\n  \"designation_id\": 1,\n  \"location_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/complete-registration",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"complete-registration"
							]
						}
					},
					"response": []
				},
				{
					"name": "Forgot Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"identifier\": \"harsh.gohil@alembic.co.in\",\n  \"loginType\": \"email\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"forgot-password"
							]
						},
						"description": "Request password reset email"
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"your_reset_jwt_token_here\",\n  \"newPassword\": \"NewPassword@123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"reset-password"
							]
						},
						"description": "Reset password using token from email"
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"currentPassword\": \"OldPassword@123\",\n  \"newPassword\": \"NewPassword@123\",\n  \"confirmPassword\": \"NewPassword@123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"change-password"
							]
						},
						"description": "Change password for authenticated user (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"auth",
								"profile"
							]
						},
						"description": "Get complete user profile information (requires authentication)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Workflow",
			"item": [
				{
					"name": "Get All Departments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/departments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"departments"
							]
						},
						"description": "Get all departments with nested divisions and designations"
					},
					"response": []
				},
				{
					"name": "Get All Request Types",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/request-types?exclude_request_type_id=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"request-types"
							],
							"query": [
								{
									"key": "exclude_request_type_id",
									"value": "",
									"description": "ID of request type to exclude from results (optional)"
								}
							]
						},
						"description": "Get all request types grouped by type, optionally excluding a specific request type (requires authentication)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Work Requests",
			"item": [
				{
					"name": "Get My Work Requests",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/my-requests?page=1&limit=10&search=&searchFields=project_name,brand&priority=&status=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								"my-requests"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term"
								},
								{
									"key": "searchFields",
									"value": "project_name,brand",
									"description": "Fields to search in"
								},
								{
									"key": "priority",
									"value": "",
									"description": "Filter by priority"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status"
								}
							]
						},
						"description": "Get list of work requests submitted by the authenticated user with filtering, pagination, and search (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get Work Request by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Work request ID"
								}
							]
						},
						"description": "Get details of a specific work request by ID, including all assigned tasks and their progress (requires authentication, user can only access their own requests)"
					},
					"response": []
				},
				{
					"name": "Create Work Request",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "project_name",
									"value": "New Product Launch Campaign",
									"type": "text"
								},
								{
									"key": "brand",
									"value": "Alembic Pharma",
									"type": "text"
								},
								{
									"key": "request_type_id",
									"value": "5",
									"type": "text"
								},
								{
									"key": "project_id",
									"value": "5",
									"description": "Optional project type ID",
									"type": "text"
								},
								{
									"key": "about_project",
									"value": "{\n  \"output_devices\": [\"iPad 9\", \"Mobile\"],\n  \"target_audience\": [\"Doctors\", \"Chemists\"]\n}",
									"description": "JSON object containing output_devices and target_audience arrays for multi-selection",
									"type": "text"
								},
								{
									"key": "priority",
									"value": "high",
									"type": "text"
								},
								{
									"key": "remarks",
									"value": "Any additional remarks",
									"type": "text"
								},
								{
									"key": "documents",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests"
							]
						},
						"description": "Create a new work request with optional file uploads (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get Project Types by Request Type",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/project-types?request_type_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								"project-types"
							],
							"query": [
								{
									"key": "request_type_id",
									"value": "1",
									"description": "Request type ID to get associated project types"
								}
							]
						},
						"description": "Get list of project types associated with a specific request type via project_request_reference table (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get About Project Options",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/about-project-options",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								"about-project-options"
							]
						},
						"description": "Get available options for about_project field with output_devices and target_audience categories (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get Division Work Requests",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/division/all?page=1&limit=10&search=&searchFields=project_name,brand&priority=&status=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								"division",
								"all"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term"
								},
								{
									"key": "searchFields",
									"value": "project_name,brand",
									"description": "Fields to search in"
								},
								{
									"key": "priority",
									"value": "",
									"description": "Filter by priority"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (excludes draft by default)"
								}
							]
						},
						"description": "Get all running work requests from users in the same division as the authenticated user, including complete task details (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get Division Work Request by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/division/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								"division",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Work request ID"
								}
							]
						},
						"description": "Get a specific work request by ID from users in the same division as the authenticated user, including complete task details and documents (requires authentication, only accessible if work request belongs to same division)"
					},
					"response": []
				},
				{
					"name": "Get User Dashboard Stats",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/work-requests/dashboard-stats?request_type_id=1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"work-requests",
								"dashboard-stats"
							],
							"query": [
								{
									"key": "request_type_id",
									"value": "1",
									"description": "Request type ID to get dashboard stats for"
								}
							]
						},
						"description": "Get dashboard statistics for a specific request type including divisions linked to the request type, accepted+in_progress tasks count, accepted+in_progress projects count, upcoming deadlines count in the next 7 days, and creative manager information for divisions linked to that request type (requires authentication)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Manager",
			"item": [
				{
					"name": "Get Assigned Work Requests",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests?page=1&limit=10",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for work request titles, brands, request types, project types, divisions, or user names"
								},
								{
									"key": "searchFields",
									"value": "project_name,brand",
									"description": "Fields to search in"
								},
								{
									"key": "priority",
									"value": "",
									"description": "Filter by priority"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status"
								}
							]
						},
						"description": "Get list of work requests assigned to the authenticated manager with filtering, pagination, and search (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get Assigned Requests with Status Filter",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/requests?page=1&limit=10&search=&searchFields=project_name,brand&priority=&status=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"requests"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term"
								},
								{
									"key": "searchFields",
									"value": "project_name,brand",
									"description": "Fields to search in"
								},
								{
									"key": "priority",
									"value": "",
									"description": "Filter by priority"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, accepted, in_progress). If not provided, returns all requests. For in_progress, includes latestTaskDeadline field"
								}
							]
						},
						"description": "Get work requests assigned to the authenticated manager with optional status filtering. For in_progress requests, includes the latest task deadline. Supports pagination, search, and filtering (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get Assigned Work Request by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Work request ID"
								}
							]
						},
						"description": "Get details of a specific work request assigned to the authenticated manager, including all tasks assigned to users for this work request (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Accept Work Request",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:id/accept",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":id",
								"accept"
							],
							"variable": [
								{
									"key": "id",
									"value": "56",
									"description": "Work request ID"
								}
							]
						},
						"description": "Accept a work request assigned to the authenticated manager (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Defer Work Request",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reason\": \"insufficient_details\",\n  \"message\": \"Please provide more details about the project requirements\"\n}\n\n// For incorrect_request_type:\n// {\n//   \"reason\": \"incorrect_request_type\",\n//   \"new_request_type_id\": 2,\n//   \"new_project_type_id\": 3\n// }"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:id/defer",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":id",
								"defer"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Work request ID"
								}
							]
						},
						"description": "Defer a work request with reason (insufficient_details or incorrect_request_type). For insufficient_details, provide optional message. For incorrect_request_type, provide both new_request_type_id and new_project_type_id (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get Assignable Users for Work Request",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:work_request_id/assignable-users?task_id=7",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":work_request_id",
								"assignable-users"
							],
							"query": [
								{
									"key": "task_id",
									"value": "7"
								}
							],
							"variable": [
								{
									"key": "work_request_id",
									"value": "45",
									"description": "Work request ID"
								}
							]
						},
						"description": "Get list of users from the work request's division that can be assigned tasks (excludes managers, requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get Task Types for Work Request",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:work_request_id/task-types",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":work_request_id",
								"task-types"
							],
							"variable": [
								{
									"key": "work_request_id",
									"value": "45",
									"description": "Work request ID"
								}
							]
						},
						"description": "Get list of task types associated with the work request's project type (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get Task Analytics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:id/analytics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":id",
								"analytics"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Work request ID"
								}
							]
						},
						"description": "Get task analytics for a specific work request including total tasks, publish date, estimated TAT, team members, and SME request count (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Send Task Assignment Notifications",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/:id/assign-tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								":id",
								"assign-tasks"
							],
							"variable": [
								{
									"key": "id",
									"value": "1",
									"description": "Work request ID"
								}
							]
						},
						"description": "Send email notifications to all users assigned to tasks in the work request (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Create Task",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"work_request_id\": 56,\n  \"task_name\": \"Design Landing Page\",\n  \"description\": \"Create responsive landing page design\",\n  \"assigned_to_ids\": [10],\n  \"task_type_id\": 2,\n  \"request_type_id\": 2,\n  \"project_type_id\": 5,\n  \"deadline\": \"2025-12-15\",\n  \"dependencies\": [1]\n}\n\n// For single user assignment:\n// {\n//   \"work_request_id\": 56,\n//   \"task_name\": \"Design Landing Page\",\n//   \"description\": \"Create responsive landing page design\",\n//   \"assigned_to_ids\": [10],\n//   \"task_type_id\": 1,\n//   \"request_type_id\": 2,\n//   \"project_type_id\": 5,\n//   \"deadline\": \"2025-12-15\",\n//   \"dependencies\": []\n// }"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								"tasks"
							]
						},
						"description": "Create a new task for an accepted work request. Supports optional project_type_id for easier work request creation, and optional dependencies array for task relationships (handled via task_dependencies table). Dependencies must be existing tasks from the same work request and deadline must be after latest dependency deadline (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get Tasks by Work Request ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/work-request/:work_request_id/tasks",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								"work-request",
								":work_request_id",
								"tasks"
							],
							"variable": [
								{
									"key": "work_request_id",
									"value": "56",
									"description": "Work request ID to get all tasks for"
								}
							]
						},
						"description": "Get basic list of all tasks for a specific work request assigned to the authenticated manager, returning id, task_name, deadline, and dependencies (requires authentication and manager role)"
					},
					"response": []
				},
				{
					"name": "Get My Team",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/manager/assigned-work-requests/my-team?page=1&limit=10&search=&searchFields=name,email&division=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"manager",
								"assigned-work-requests",
								"my-team"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for team member names or emails"
								},
								{
									"key": "searchFields",
									"value": "name,email",
									"description": "Fields to search in"
								},
								{
									"key": "division",
									"value": "",
									"description": "Filter by division name"
								}
							]
						},
						"description": "Get manager's team members with task counts, grouped by division. Shows creative users and creative leads from all divisions the manager belongs to (requires authentication and manager role)"
					},
					"response": []
				}
			]
		},
		{
			"name": "User",
			"item": [
				{
					"name": "Get Assigned Tasks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks?page=1&limit=10&search=&searchFields=task_name,description&status=&deadline[gte]=&deadline[lte]=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number for pagination"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Number of items per page"
								},
								{
									"key": "search",
									"value": "",
									"description": "Search term for text fields"
								},
								{
									"key": "searchFields",
									"value": "task_name,description",
									"description": "Fields to search in (text fields only)"
								},
								{
									"key": "status",
									"value": "",
									"description": "Filter by status (pending, accepted, in_progress). If not provided, shows pending tasks"
								},
								{
									"key": "deadline[gte]",
									"value": "",
									"description": "Filter deadline greater than or equal to date (YYYY-MM-DD)"
								},
								{
									"key": "deadline[lte]",
									"value": "",
									"description": "Filter deadline less than or equal to date (YYYY-MM-DD)"
								}
							]
						},
						"description": "Get list of tasks assigned to the authenticated user with filtering, pagination, and search. For managers, shows tasks for themselves and their team members. Includes assigned user details with task counts. Sorted by deadline ascending (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get My Team Tasks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/my-team",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"my-team"
							]
						},
						"description": "Get all in-progress tasks from users in the same division as the authenticated user (only for department 9 users)"
					},
					"response": []
				},
				{
					"name": "Get Accepted Tasks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks?status=accepted",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks"
							],
							"query": [
								{
									"key": "status",
									"value": "accepted"
								}
							]
						},
						"description": "Get only accepted tasks for the authenticated user"
					},
					"response": []
				},
				{
					"name": "Get In-Progress Tasks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks?status=in_progress",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks"
							],
							"query": [
								{
									"key": "status",
									"value": "in_progress"
								}
							]
						},
						"description": "Get only in-progress tasks for the authenticated user"
					},
					"response": []
				},
				{
					"name": "Get Task Details by Task ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks/:task_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks",
								":task_id"
							],
							"variable": [
								{
									"key": "task_id",
									"value": "7",
									"description": "Task ID to get details for"
								}
							]
						},
						"description": "Get detailed information for a specific task where intimate_team = 1, including who requested it, assigned users, work request details, managers, and dependencies. No division restrictions (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Assign Task to User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"task_id\": 1,\n  \"user_id\": 10,\n  \"work_request_id\": 56,\n  \"deadline\": \"2025-12-15\"\n}\n\n// deadline is optional - if provided, must be a valid future date (YYYY-MM-DD format)"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/assign-task",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"assign-task"
							]
						},
						"description": "Assign a task to a specific user. Only managers and super admins can use this API. When a task is assigned, all manager assignments for that work request are removed and the task is assigned to the user with email notification (requires authentication and manager/super admin role)"
					},
					"response": []
				},
				{
					"name": "Accept Task",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"start_date\": \"2025-12-03\"\n}\n\n// start_date is optional - if not provided, task will be accepted without setting start_date"
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks/:taskId/accept",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks",
								":taskId",
								"accept"
							],
							"variable": [
								{
									"key": "taskId",
									"value": "1",
									"description": "Task ID to accept"
								}
							]
						},
						"description": "Accept a task assigned to the authenticated user. Only works if task.intimate_team = 1. Changes task status to 'accepted' and optionally sets start_date. Returns error if task is already accepted (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Submit Task",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "task_id",
									"value": "1",
									"description": "Task ID to submit",
									"type": "text"
								},
								{
									"key": "task_count",
									"value": "5",
									"description": "Task count (required)",
									"type": "text"
								},
								{
									"key": "link",
									"value": "https://example.com/delivered-work",
									"description": "Optional link to submitted work",
									"type": "text"
								},
								{
									"key": "documents",
									"description": "Optional file uploads for task submission",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks/submit",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks",
								"submit"
							]
						},
						"description": "Submit a completed task with required task_count, optional link and file uploads. Updates task with task_count and link, stores uploaded files in task_documents table. Marks task as completed if files or link are provided (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Get Task Documents",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/tasks/:task_id/documents",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"tasks",
								":task_id",
								"documents"
							],
							"variable": [
								{
									"key": "task_id",
									"value": "1",
									"description": "Task ID to get documents for"
								}
							]
						},
						"description": "Get all documents uploaded for a specific task. Only returns documents for tasks assigned to the authenticated user (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Delete Task Document",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{jwt_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/digilabs/dmap/api/users/documents/:document_id",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"digilabs",
								"dmap",
								"api",
								"users",
								"documents",
								":document_id"
							],
							"variable": [
								{
									"key": "document_id",
									"value": "1",
									"description": "Document ID to delete"
								}
							]
						},
						"description": "Delete a task document by ID. Only allows deletion of documents owned by the authenticated user. Also deletes the physical file from storage (requires authentication)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/digilabs/dmap/api/health",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"digilabs",
						"dmap",
						"api",
						"health"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:1005",
			"type": "string"
		},
		{
			"key": "jwt_token",
			"value": "",
			"type": "string"
		}
	]
}