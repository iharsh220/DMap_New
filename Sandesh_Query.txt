SELECT
    wr.id AS work_request_id,
    wr.project_name,
    rdiv.title AS requester_division,
    ru.name AS requester_name,
    mdiv.title AS manager_division,
    u.name AS manager_name,
    COUNT(t.task_count) AS task_count,
    SUM(t.task_count) AS no_of_work_pages
FROM work_requests wr
LEFT JOIN users ru ON wr.user_id = ru.id
LEFT JOIN user_divisions rud ON ru.id = rud.user_id
LEFT JOIN division rdiv ON rud.division_id = rdiv.id
LEFT JOIN work_request_managers wrm ON wr.id = wrm.work_request_id
LEFT JOIN users u ON wrm.manager_id = u.id
LEFT JOIN user_divisions mud ON u.id = mud.user_id
LEFT JOIN division mdiv ON mud.division_id = mdiv.id
LEFT JOIN tasks t ON wr.id = t.work_request_id
GROUP BY wr.id, wr.project_name, rdiv.title, ru.name, mdiv.title, u.name;